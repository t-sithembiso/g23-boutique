package za.ac.cput.factory;

import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Test;
import za.ac.cput.domain.Manager;
import za.ac.cput.domain.Staff;

import java.util.HashSet;
import java.util.Set;

import static org.junit.jupiter.api.Assertions.*;

class ManagerFactoryTest {

    private Set<Staff> testStaff;

    @BeforeEach
    void setUp() {
        // Set up any necessary test data before each test
        testStaff = new HashSet<>();
        testStaff.add(new Staff.Builder()
                .setStaffNumber(1)
                .setNationalId(123456789)
                .setStaffName("Okuhle")
                .setStaffSurname("Sithole")
                .build());
    }

    @Test
    void createManager() {
        // Define test data
        int managerId = 1;
        String username = "manager";
        String password = "pass123";

        // Create a Manager using the factory
        Manager manager = ManagerFactory.createManager(managerId, username, password, testStaff);

        // Print the created manager details
        System.out.println("Created Manager: " + manager);

        // Verify that the Manager is not null
        assertNotNull(manager);

        // Verify that the Manager properties are set correctly
        assertEquals(managerId, manager.getManagerId());
        assertEquals(username, manager.getUsername());
        assertEquals(password, manager.getPassword());
        assertEquals(testStaff, manager.getStaff());

        // Print assertion results
        System.out.println("Manager ID: " + manager.getManagerId());
        System.out.println("Manager Username: " + manager.getUsername());
        System.out.println("Manager Password: " + manager.getPassword());
        System.out.println("Manager Staff: " + manager.getStaff());
    }
}
